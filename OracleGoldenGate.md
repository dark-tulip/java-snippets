Oracle GoldenGate — это инструмент для захвата и репликации данных в реальном времени, который используется для синхронизации данных между разными системами. Он поддерживает как гетерогенные источники данных, так и гетерогенные целевые системы, позволяя передавать изменения данных из одной системы в другую с минимальными задержками. Давайте рассмотрим основные вопросы, касающиеся GoldenGate.

0. Какие источники и приемники поддерживаются?
Источники (Sources):

Oracle Database (включая Oracle Exadata)
MySQL
Microsoft SQL Server
PostgreSQL
DB2 for LUW (Linux, Unix, Windows)
DB2 for z/OS (mainframe)
SAP HANA
Sybase
Amazon Aurora
Amazon RDS (для различных баз данных)
Приемники (Targets):

Oracle Database
MySQL
Microsoft SQL Server
PostgreSQL
DB2
Kafka (поддержка передачи данных в стриминг-платформы)
Hadoop (HDFS)
Amazon S3
Google BigQuery
и другие.
GoldenGate поддерживает гибкие сценарии репликации, включая однонаправленную репликацию, двустороннюю (bi-directional), активные активные репликации, передачу данных в другие системы и даже потоки изменений для аналитических систем.

1. Какое API предоставляет система? Описание основных функциональных возможностей (копирование, репликация и тп)
API:

Oracle GoldenGate for Big Data Adapter API: Позволяет интеграцию с различными Big Data системами, включая Kafka, HDFS и NoSQL базы данных.
Oracle GoldenGate REST API: Позволяет управлять и мониторить процессы репликации, задание параметров репликации, мониторинг состояния потоков данных и управлениями репликациями.
Функциональные возможности:

Change Data Capture (CDC): Захват изменений данных в режиме реального времени с использованием логов транзакций.
Репликация данных: Однонаправленная, двунаправленная и активная-активная репликация между источниками и приемниками.
Трансформация данных: Возможность на лету преобразовывать данные перед их репликацией (например, изменение форматов полей, агрегирование данных).
Поддержка нескольких платформ: Гетерогенные источники и приемники, работающие с разными базами данных и системами хранения.
Основные параметры:

Частота репликации: Репликация данных может происходить в реальном времени (минимальная задержка зависит от объема транзакций и настроек сети).
Пропускная способность: Возможность настройки производительности репликации через настройку GoldenGate Trail Files, размер буферов и потоков.
Документация Oracle GoldenGate

2. Как решается технологическая задача? Используются ли триггеры, журналы транзакций, лог-снифинг, или иные подходы?
Oracle GoldenGate использует метод лог-снифинга (логов транзакций) для захвата изменений в данных (CDC):

Чтение журналов транзакций (redo logs или binlog): GoldenGate захватывает изменения в базе данных, анализируя транзакционные логи, что позволяет избежать нагрузки на базу данных и дает возможность обрабатывать только изменения.
Журналы транзакций используются для минимизации влияния на производительность базы данных, и для точного воспроизведения всех изменений в другом источнике.
Без триггеров: GoldenGate не использует триггеры, что снижает нагрузку на базу данных по сравнению с альтернативными решениями.
3. Дизайн системы. Ключевые компоненты и их ответственность
Основные компоненты Oracle GoldenGate:

Extract: Этот компонент отвечает за захват данных с источника (базы данных), извлечение изменений (вставки, удаления, обновления) из логов транзакций.
Data Pump: Дополнительный процесс, который пересылает данные с Extract на целевую систему или промежуточные узлы.
Trail Files: Специальные файлы, в которых сохраняются изменения данных перед их передачей в целевые системы.
Replicat: Этот компонент получает изменения из Trail Files и применяет их к целевой базе данных.
Manager: Управляет процессами Extract и Replicat, а также их взаимодействием.
Collector: Получает изменения, отправленные Data Pump, и передает их на Replicat.
4. Какие форматы данных используются для передачи изменений? Есть ли поддержка гибридных форматов или сжатия данных?
Oracle GoldenGate поддерживает несколько форматов данных:

Oracle Trail Format: Проприетарный формат для передачи данных между процессами Extract и Replicat.
Аврора (Avro), JSON, Delimited Text (CSV), XML: Форматы для интеграции с системами Big Data и стриминг-платформами (Kafka, Hadoop).
Сжатие данных: Поддерживается сжатие передаваемых данных для повышения эффективности передачи по сети и уменьшения размера Trail Files.
Выбор формата зависит от требований системы-приемника. Например, при передаче данных в Big Data системы часто выбирается Avro или JSON, в то время как для гетерогенных баз данных можно использовать проприетарный формат Oracle Trail.

5. Технологический стек компонентов
GoldenGate разработан на C и C++, что делает его эффективным с точки зрения производительности. Он может быть установлен и работать на различных операционных системах (Linux, Windows, Unix).

Языки: C, C++.
Платформы: Oracle GoldenGate поддерживает как локальные базы данных, так и облачные решения (Oracle Cloud, AWS, Azure).
6. Масштабируемость и производительность
GoldenGate поддерживает масштабирование как в горизонтальном, так и в вертикальном направлениях:

Горизонтальное масштабирование: Добавление дополнительных серверов для обработки большего объема данных. Это достигается за счет разделения потоков данных между несколькими процессами Extract, Data Pump и Replicat.
Вертикальное масштабирование: Увеличение мощности серверов (больше CPU, памяти) для увеличения пропускной способности.
Проблемы производительности: Появляются при высоких объемах транзакций, низкой производительности сети или дисковых подсистем.
7. Как система справляется с изменениями в схеме данных?
GoldenGate поддерживает автоматическое отслеживание изменений в схеме данных:

Автоматическое обновление схемы: GoldenGate может реплицировать изменения в структуре таблиц (например, добавление или удаление колонок) без необходимости остановки репликации.
DDL Replication: Поддержка репликации изменений на уровне DDL (Data Definition Language), таких как создание, изменение и удаление объектов базы данных.
8. Есть ли возможность пользователям самим добавлять источники и таргеты?
Да, пользователи могут самостоятельно настраивать источники и приемники данных через конфигурацию коннекторов Extract и Replicat:

GoldenGate предоставляет удобные инструменты для добавления и настройки новых источников данных.
Это позволяет расширять систему по мере увеличения потребностей в источниках и целевых системах.
9. Как встраивается обработка потока данных и аналитика над ним?
GoldenGate может быть интегрирован с системами стриминга и аналитики:

Интеграция с Apache Kafka и Hadoop для потоковой обработки данных.
GoldenGate Stream Analytics: Oracle предоставляет решение для обработки потоков данных в реальном времени и выполнения аналитики с помощью GoldenGate.
Поддержка Big Data: Это позволяет обрабатывать изменения данных в реальном времени и выполнять аналитику над потоками данных.
Заключение
Oracle GoldenGate — это мощная и высокопроизводительная платформа для репликации данных, которая поддерживает гетерогенные базы данных и источники. Она является эффективным решением для интеграции данных в реальном времени и построения реплик баз данных с минимальной задержкой.
